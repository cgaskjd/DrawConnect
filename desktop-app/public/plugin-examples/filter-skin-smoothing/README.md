# 皮肤磨皮滤镜 (Skin Smoothing Filter)

专业的人像皮肤磨皮滤镜，使用双边滤波算法自动检测肤色并应用自然平滑效果，同时保留皮肤纹理细节。

## 功能特点

### 自动肤色检测
- 使用 YCbCr 色彩空间进行精准肤色识别
- 支持多种肤色预设：自动、浅色、中等、深色
- 仅对皮肤区域应用平滑，不影响其他部分

### 双边滤波算法
- 边缘保持的平滑效果
- 保留眼睛、嘴唇、头发等重要细节
- 自然的磨皮效果，避免"塑料感"

### 灵活的参数调节
- **磨皮强度**: 0-100%，控制平滑程度
- **保留纹理**: 开启后保留皮肤自然纹理
- **肤色范围**: 自动检测或手动选择
- **边缘保持**: 控制边缘锐利程度

## 包含滤镜

| 滤镜名称 | 说明 |
|---------|------|
| 皮肤磨皮 | 主滤镜，可自定义所有参数 |
| 轻度磨皮 | 预设：强度30%，保留纹理 |
| 强力磨皮 | 预设：强度80%，不保留纹理 |

## 使用方法

1. 在 DrawConnect 中打开人像照片
2. 选择菜单：滤镜 > 人像美化 > 皮肤磨皮
3. 调整参数到满意效果
4. 点击应用

## 技术原理

### YCbCr 肤色检测
```
Y = 0.299R + 0.587G + 0.114B  (亮度)
Cb = 128 - 0.169R - 0.331G + 0.5B  (蓝色色度)
Cr = 128 + 0.5R - 0.419G - 0.081B  (红色色度)
```

皮肤色调特征：
- Cr: 133-173 (红色色度范围)
- Cb: 77-127 (蓝色色度范围)
- Y > 80 (亮度阈值)

### 双边滤波
双边滤波同时考虑空间距离和颜色相似度：

```
W(i,j) = exp(-||p-q||² / 2σ_s²) × exp(-||I(p)-I(q)||² / 2σ_r²)
```

- σ_s: 空间高斯参数（由磨皮强度决定）
- σ_r: 颜色高斯参数（由边缘保持决定）

## 版本历史

### v1.0.0
- 初始版本
- 基本磨皮功能
- 三种滤镜预设

## 许可证

MIT License

## 作者

DrawConnect Community
