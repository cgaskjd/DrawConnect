# è½»ç”»é¡¹ç›®æ„å»ºé—®é¢˜è¯Šæ–­ä¸è§£å†³æŒ‡å—

## ğŸ” é—®é¢˜è¯Šæ–­

### é—®é¢˜: æ— æ³•æ„å»ºé¡¹ç›®

è¿™ä¸ªé—®é¢˜é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªåŸå› å¯¼è‡´:

## âœ… å·²è§£å†³çš„é—®é¢˜

### 1. ç¼ºå°‘ Gradle Wrapper æ–‡ä»¶ âœ…

**é—®é¢˜æè¿°**: é¡¹ç›®ç¼ºå°‘å¿…è¦çš„ Gradle Wrapper æ–‡ä»¶

**å·²åˆ›å»ºçš„æ–‡ä»¶**:
- âœ… `gradle/wrapper/gradle-wrapper.properties`
- âœ… `gradlew.bat` (Windows)
- âœ… `gradlew` (Linux/Mac)

**çŠ¶æ€**: å·²ä¿®å¤

## ğŸ”§ å…¶ä»–å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1: ç¼ºå°‘ gradle-wrapper.jar

**ç—‡çŠ¶**:
```
Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain
```

**è§£å†³æ–¹æ¡ˆ**:

#### æ–¹æ³• A: ä½¿ç”¨ Android Studio è‡ªåŠ¨ç”Ÿæˆ
1. åœ¨ Android Studio ä¸­æ‰“å¼€é¡¹ç›®
2. Android Studio ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä¸‹è½½ç¼ºå¤±çš„æ–‡ä»¶
3. ç­‰å¾… Gradle åŒæ­¥å®Œæˆ

#### æ–¹æ³• B: æ‰‹åŠ¨ä¸‹è½½ Gradle
1. è®¿é—® https://gradle.org/releases/
2. ä¸‹è½½ Gradle 8.2 (gradle-8.2-bin.zip)
3. è§£å‹åˆ°æœ¬åœ°ç›®å½•
4. è®¾ç½®ç¯å¢ƒå˜é‡ GRADLE_HOME
5. è¿è¡Œ: `gradle wrapper`

### é—®é¢˜ 2: JDK æœªå®‰è£…æˆ–ç‰ˆæœ¬ä¸å¯¹

**ç—‡çŠ¶**:
```
ERROR: JAVA_HOME is not set
```

**è§£å†³æ–¹æ¡ˆ**:
1. ä¸‹è½½å¹¶å®‰è£… JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬
2. è®¾ç½®ç¯å¢ƒå˜é‡:
   ```
   JAVA_HOME=C:\Program Files\Java\jdk-17
   PATH=%JAVA_HOME%\bin;%PATH%
   ```
3. éªŒè¯å®‰è£…: `java -version`

### é—®é¢˜ 3: Android SDK æœªé…ç½®

**ç—‡çŠ¶**:
```
SDK location not found
```

**è§£å†³æ–¹æ¡ˆ**:

#### æ–¹æ³• A: ä½¿ç”¨ Android Studio (æ¨è)
1. å®‰è£… Android Studio
2. æ‰“å¼€é¡¹ç›®,Android Studio ä¼šè‡ªåŠ¨é…ç½® SDK
3. åœ¨ SDK Manager ä¸­å®‰è£…å¿…è¦çš„ç»„ä»¶:
   - Android SDK Platform 34
   - Android SDK Build-Tools
   - Android SDK Platform-Tools

#### æ–¹æ³• B: æ‰‹åŠ¨é…ç½®
1. åˆ›å»º `local.properties` æ–‡ä»¶:
   ```properties
   sdk.dir=C\:\\Users\\ä½ çš„ç”¨æˆ·å\\AppData\\Local\\Android\\Sdk
   ```

### é—®é¢˜ 4: ç½‘ç»œè¿æ¥é—®é¢˜

**ç—‡çŠ¶**:
```
Could not download gradle-8.2-bin.zip
Connection timeout
```

**è§£å†³æ–¹æ¡ˆ**:

#### æ–¹æ³• A: é…ç½®å›½å†…é•œåƒ
ç¼–è¾‘ `build.gradle.kts`:
```kotlin
repositories {
    maven { url = uri("https://maven.aliyun.com/repository/google") }
    maven { url = uri("https://maven.aliyun.com/repository/public") }
    google()
    mavenCentral()
}
```

#### æ–¹æ³• B: ä½¿ç”¨ä»£ç†
åœ¨ `gradle.properties` ä¸­æ·»åŠ :
```properties
systemProp.http.proxyHost=127.0.0.1
systemProp.http.proxyPort=7890
systemProp.https.proxyHost=127.0.0.1
systemProp.https.proxyPort=7890
```

### é—®é¢˜ 5: ç£ç›˜ç©ºé—´ä¸è¶³

**ç—‡çŠ¶**:
```
No space left on device
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ¸…ç† Gradle ç¼“å­˜:
   ```bash
   # Windows
   rmdir /s /q %USERPROFILE%\.gradle\caches

   # Linux/Mac
   rm -rf ~/.gradle/caches
   ```
2. æ¸…ç†é¡¹ç›®æ„å»ºæ–‡ä»¶:
   ```bash
   gradlew clean
   ```

### é—®é¢˜ 6: ä¾èµ–ä¸‹è½½å¤±è´¥

**ç—‡çŠ¶**:
```
Could not resolve all dependencies
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ¸…ç†å¹¶é‡æ–°æ„å»º:
   ```bash
   gradlew clean
   gradlew build --refresh-dependencies
   ```
2. åˆ é™¤ `.gradle` æ–‡ä»¶å¤¹åé‡è¯•

### é—®é¢˜ 7: Kotlin ç¼–è¯‘é”™è¯¯

**ç—‡çŠ¶**:
```
Compilation error
Unresolved reference
```

**è§£å†³æ–¹æ¡ˆ**:
1. åœ¨ Android Studio ä¸­:
   - File â†’ Invalidate Caches / Restart
2. ç¡®ä¿ Kotlin ç‰ˆæœ¬åŒ¹é…:
   - æ£€æŸ¥ `build.gradle.kts` ä¸­çš„ Kotlin ç‰ˆæœ¬
   - ç¡®ä¿ä¸ Compose ç‰ˆæœ¬å…¼å®¹

## ğŸ“‹ å®Œæ•´çš„æ„å»ºå‰æ£€æŸ¥æ¸…å•

åœ¨æ„å»ºå‰,è¯·ç¡®è®¤:

### ç¯å¢ƒæ£€æŸ¥
- [ ] JDK 17+ å·²å®‰è£…
- [ ] JAVA_HOME ç¯å¢ƒå˜é‡å·²è®¾ç½®
- [ ] Android Studio å·²å®‰è£…(æ¨è)
- [ ] Android SDK å·²é…ç½®

### æ–‡ä»¶æ£€æŸ¥
- [ ] `gradlew.bat` å­˜åœ¨ (Windows)
- [ ] `gradlew` å­˜åœ¨ (Linux/Mac)
- [ ] `gradle/wrapper/gradle-wrapper.properties` å­˜åœ¨
- [ ] `build.gradle.kts` å­˜åœ¨
- [ ] `settings.gradle.kts` å­˜åœ¨
- [ ] `app/build.gradle.kts` å­˜åœ¨

### ç½‘ç»œæ£€æŸ¥
- [ ] å¯ä»¥è®¿é—® Maven ä»“åº“
- [ ] å¯ä»¥è®¿é—® Google Maven
- [ ] å¦‚éœ€è¦,å·²é…ç½®ä»£ç†

## ğŸš€ æ¨èçš„æ„å»ºæ–¹å¼

### æ–¹å¼ 1: ä½¿ç”¨ Android Studio (æœ€ç®€å•)

**ä¼˜ç‚¹**:
- âœ… è‡ªåŠ¨å¤„ç†æ‰€æœ‰ä¾èµ–
- âœ… è‡ªåŠ¨é…ç½® SDK
- âœ… æä¾›å¯è§†åŒ–ç•Œé¢
- âœ… å®æ—¶é”™è¯¯æç¤º

**æ­¥éª¤**:
1. å®‰è£… Android Studio
2. æ‰“å¼€é¡¹ç›®: File â†’ Open â†’ é€‰æ‹© DrawConnect æ–‡ä»¶å¤¹
3. ç­‰å¾… Gradle åŒæ­¥å®Œæˆ
4. ç‚¹å‡» Build â†’ Build APK(s)

### æ–¹å¼ 2: ä½¿ç”¨å‘½ä»¤è¡Œ

**å‰ææ¡ä»¶**:
- JDK å·²å®‰è£…
- Android SDK å·²é…ç½®
- Gradle Wrapper æ–‡ä»¶å®Œæ•´

**æ­¥éª¤**:
```bash
cd DrawConnect
gradlew assembleDebug
```

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
```bash
gradlew assembleDebug --stacktrace
# æˆ–
gradlew assembleDebug --info
# æˆ–
gradlew assembleDebug --debug
```

### æ£€æŸ¥ Gradle ç‰ˆæœ¬
```bash
gradlew --version
```

### æ£€æŸ¥é¡¹ç›®ä¾èµ–
```bash
gradlew dependencies
```

### æ¸…ç†å¹¶é‡æ–°æ„å»º
```bash
gradlew clean
gradlew assembleDebug
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ³•è§£å†³é—®é¢˜,è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯:

1. **é”™è¯¯ä¿¡æ¯**: å®Œæ•´çš„é”™è¯¯æ—¥å¿—
2. **ç¯å¢ƒä¿¡æ¯**:
   - æ“ä½œç³»ç»Ÿç‰ˆæœ¬
   - JDK ç‰ˆæœ¬ (`java -version`)
   - Gradle ç‰ˆæœ¬ (`gradlew --version`)
   - Android Studio ç‰ˆæœ¬(å¦‚æœä½¿ç”¨)
3. **å·²å°è¯•çš„è§£å†³æ–¹æ¡ˆ**
4. **é¡¹ç›®æ–‡ä»¶æ£€æŸ¥ç»“æœ**

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ä½¿ç”¨ Android Studio**: è¿™æ˜¯æœ€ç®€å•å¯é çš„æ–¹å¼
2. **ä¿æŒç½‘ç»œç•…é€š**: é¦–æ¬¡æ„å»ºéœ€è¦ä¸‹è½½å¤§é‡ä¾èµ–
3. **å®šæœŸæ¸…ç†ç¼“å­˜**: é¿å…ç¼“å­˜é—®é¢˜
4. **ä½¿ç”¨ç¨³å®šç‰ˆæœ¬**: é¿å…ä½¿ç”¨ beta æˆ– canary ç‰ˆæœ¬
5. **å¤‡ä»½é‡è¦æ–‡ä»¶**: ç‰¹åˆ«æ˜¯ç­¾åå¯†é’¥

## ğŸ“ å¸¸è§é”™è¯¯ä»£ç 

| é”™è¯¯ä»£ç  | å«ä¹‰ | è§£å†³æ–¹æ¡ˆ |
|---------|------|---------|
| Exit code 1 | ç¼–è¯‘é”™è¯¯ | æ£€æŸ¥ä»£ç è¯­æ³• |
| Exit code 2 | é…ç½®é”™è¯¯ | æ£€æŸ¥ gradle é…ç½® |
| Connection timeout | ç½‘ç»œé—®é¢˜ | æ£€æŸ¥ç½‘ç»œæˆ–ä½¿ç”¨é•œåƒ |
| Out of memory | å†…å­˜ä¸è¶³ | å¢åŠ  Gradle å†…å­˜ |

## ğŸ¯ å¿«é€Ÿä¿®å¤å‘½ä»¤

```bash
# å®Œæ•´çš„æ¸…ç†å’Œé‡å»ºæµç¨‹
cd DrawConnect
gradlew clean
gradlew assembleDebug --refresh-dependencies --stacktrace
```

---

**æ›´æ–°æ—¥æœŸ**: 2026-01-14
**é€‚ç”¨ç‰ˆæœ¬**: è½»ç”» v0.1